<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    


    <form >

        <label for="numberOfRows">Enter Number of data</label> 
        <input type="text" id="numberOfRows"  ><br>
        <input type="button"  id ="p1" value ="submit" onclick="f1()" >
      

    </form>
    <table>
        <tr>
            <th>x</th>
            <th>y</th>
        </tr>
        <tbody id="tbody"></tbody>

    </table>
    <form >

        <label for="valueOfy">Enter X to calculate y</label> 
        <input type="text" id="valueOfx" ><br>
        <input type="button"  id ="p2" value ="submit" onclick="calculatey()" >
        <input type="text" id="resultOfy"  ><br>
      

    </form>
    <script>
        function f1(){
            console.log("hi in f1");
            var tableRows =document.getElementById("numberOfRows").value;
            var tablerender =document.getElementById("tbody");

            console.log("hi in f1",tableRows);
            for(i=0;i<tableRows;i++){
                var row = `<tr>
                                    <td class="textblue"><input type="text" id="x${i}"  placeholder="x${i}"><br></td>
                                    <td class="textblue"><input type="text" id="y${i}"  placeholder="y${i}"  ><br></td>
                                    
                              </tr>`

                              tablerender.innerHTML += row
            }

        }
       function calculatey(){
            arrayDataX =[];
            arrayDataY =[];
            arrayDataL1 =[];
            
            var tableRows =document.getElementById("numberOfRows").value;
            var x = document.getElementById("valueOfx").value
            for(var i=0;i<tableRows;i++){

                arrayDataX.push(document.getElementById(`x${i}`).value)
                arrayDataY.push(document.getElementById(`y${i}`).value)


            }
            var lupper=1;
            var ldown=1;
            for(var j=0;j<tableRows;j++){
                for(var i=0;i<tableRows;i++){

                    if(i!=j){
                var lupper = lupper * ((x-arrayDataX[i]));
                
                    }
                    if((i+1) < tableRows){
                    var ldown =ldown * (arrayDataX[i]-arrayDataX[i+1])
                    }

                }

                arrayDataL1.push((lupper/ldown))
            }



            var ans=0;
            for(var i=0;i<tableRows;i++){
                var ans=ans+arrayDataY[i]*arrayDataL1[i];
            }
            
           var  result = document.getElementById("resultOfy");
            result.value=ans
            
        }


    </script>
</body>
</html>
